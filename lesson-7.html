<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
  </head>
  <body>
    <script>
      /*The first century spans from the year 1 up to and including the year 100, The second - from the year 101 up to and including the year 200, etc.*/
      function century(year) {
        if (year < 100) return 1;

        return Math.ceil(year / 100);
      }

      /*
                    Return a new array consisting of elements which are multiple of their own index in input array (length > 1).*/

      function multipleOfIndex(array) {
        let newArr = array.filter((item, index) => item % index == 0);
        return newArr;
      }
      console.log(multipleOfIndex([22, -6, 32, 82, 9, 25]));

      /*Simple, remove the spaces from the string, then return the resultant string.*/
      function noSpace(x) {
        let arr = x.split("");
        return (arr2 = arr.filter(item => item != " ").join(""));
      }
      noSpace("8 j 8   mBliB8g  imjB8B8  jl  B");
      /*It's pretty straightforward. Your goal is to create a function that removes the first and last characters of a string. You're given one parameter, the original string. You don't have to worry with strings with less than two characters.*/
      function removeChar(str) {
        return str.slice(1, str.length - 1);
      }
      console.log(removeChar("qwerty"));

      //HOMEWORK 24.06.2019

      /*Task - 1
                  A digital root is the recursive sum of all the digits in a number.
                  Given n, take the sum of the digits of n. If that value has more than one digit,
                  continue reducing in this way until a single-digit number is produced.
                  This is only applicable to the natural numbers.*/

      function digital_root(n) {
        let arr = Array.from(n.toString());

        if (arr.length === 1) {
          return n;
        }
        while (arr.length > 1) {
          let sum = 0;
          for (let i = 0; i < arr.length; i++) {
            let elem = Number(arr[i]);

            sum += elem;
          }
          arr = Array.from(sum.toString());
        }
        return Number(arr[0]);
      }
      console.log(digital_root(888));

      /*Task - 2
                  Number is a palindrome if it is equal to the number with digits in reversed order. For example, 5, 44, 171, 4884 are palindromes and 43, 194, 4773 are not palindromes.

            Write a method palindrome_chain_length which takes a positive number and returns the number of special steps needed to obtain a palindrome. The special step is: "reverse the digits, and add to the original number". If the resulting number is not a palindrome, repeat the procedure with the sum until the resulting number is a palindrome.

            If the input number is already a palindrome, the number of steps is 0.

            Input will always be a positive integer.

            For example, start with 87:

            87 + 78 = 165; 165 + 561 = 726; 726 + 627 = 1353; 1353 + 3531 = 4884
                   */

      var palindrome_chain_length = function(n) {
        var step = 0;
        var number = parseInt(
          (n + "")
            .split("")
            .reverse()
            .join("")
        );
        while (number !== n) {
          n = parseInt(n) + parseInt(number);
          number = parseInt(
            n
              .toString()
              .split("")
              .reverse()
              .join("")
          );
          ++step;
        }

        return step;
      };

      console.log(palindrome_chain_length(87));

      /* Task - 3
            The magic sum of 3s is calculated on an array by summing up odd numbers which include the digit 3. Write a function magic_sum which accepts an array of integers and returns the sum.

      Example: [3, 12, 5, 8, 30, 13] results in 16 (3 + 13)

      If the sum cannot be calculated, 0 should be returned.
            */

      function magicSum(numbers) {
        if (!Array.isArray(numbers)) return 0;
        let summ = numbers.reduce((accum, elem) => {
          var e = !!(elem % 2);
          var a = Array.from(elem.toString()).includes("3");
          if (e && a) {
            return +elem + accum;
          } else {
            return accum;
          }
        }, 0);
        return summ;
      }
      console.log(magicSum([3]));
    </script>
  </body>
</html>
